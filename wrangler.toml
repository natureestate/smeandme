account_id = "888725e55ac1543637e22d1c490c5d9c"
name = "smeandme"
main = "frontend/.open-next/worker.js"
compatibility_date = "2025-08-12"
compatibility_flags = ["nodejs_compat"]
workers_dev = true

# Build OpenNext bundle before deploy when running from repo root
[build]
command = "npm --prefix frontend run cf:build"

# Custom domains
routes = [
  { pattern = "smeandme.org", custom_domain = true },
  { pattern = "www.smeandme.org", custom_domain = true }
]

# Static assets generated by OpenNext
[assets]
directory = "frontend/.open-next/assets"
binding = "ASSETS"


