"use strict";exports.id=184,exports.ids=[184],exports.modules={11184:(e,t,r)=>{r.d(t,{TS:()=>function e(t){function r(e){return e?"string"==typeof e?p.C.fromString(e):e:[]}function n(e){if(!e.id)throw Error("`id` is required to create a data attribute");if(!e.type)throw Error("`type` is required to create a data attribute");if(!e.path||!e.path.length)throw Error("`path` is required to create a data attribute");var t={baseUrl:e.baseUrl||"/",workspace:e.workspace,tool:e.tool,type:e.type,id:e.id,path:"string"==typeof e.path?e.path:p.C.toString(e.path)};let{id:r,path:n,baseUrl:s,tool:i,workspace:a,type:u}=t;return U(t)?[["id",(0,p.IM)(r)],["type",u],["path",q(p.C.fromString(n))],["base",encodeURIComponent(s)],["workspace",a],["tool",i]].filter(([,e])=>!!e).map(e=>e.join("=")).join(";"):void 0}let s=e=>n({...t,path:[...r(t.path),...r(e)]});return s.toString=function(){return n(t)},s.combine=function(r){return e({...t,...r})},s.scope=function(n){return e({...t,path:[...r(t.path),...r(n)]})},s},bX:()=>F,hy:()=>q});var n,s,i,a,u,o,l,p=r(36006);function c(e){return{lang:e?.lang??n?.lang,message:e?.message,abortEarly:e?.abortEarly??n?.abortEarly,abortPipeEarly:e?.abortPipeEarly??n?.abortPipeEarly}}function f(e,t,r,n,u){var o,l,p,c;let f=u&&"input"in u?u.input:r.value,d=u?.expected??e.expects??null,y=u?.received??function(e){let t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}(f),h={kind:e.kind,type:e.type,input:f,expected:d,received:y,message:`Invalid ${t}: ${d?`Expected ${d} but r`:"R"}eceived ${y}`,requirement:e.requirement,path:u?.path,issues:u?.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},b="schema"===e.kind,m=u?.message??e.message??(o=e.reference,l=h.lang,a?.get(o)?.get(l))??(b?(p=h.lang,i?.get(p)):null)??n.message??(c=h.lang,s?.get(c));void 0!==m&&(h.message="function"==typeof m?m(h):m),b&&(r.typed=!1),r.issues?r.issues.push(h):r.issues=[h]}function d(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},c())}}var y=/\D/gu,h=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function b(e,t){return{kind:"validation",type:"min_length",reference:b,async:!1,expects:`>=${e}`,requirement:e,message:t,"~run"(e,t){return e.typed&&e.value.length<this.requirement&&f(this,"length",e,t,{received:`${e.value.length}`}),e}}}function m(e,t,r){return"function"==typeof e.fallback?e.fallback(t,r):e.fallback}function v(e,t,r){return"function"==typeof e.default?e.default(t,r):e.default}function g(e){if("entries"in e){let t={};for(let r in e.entries)t[r]=g(e.entries[r]);return t}return"items"in e?e.items.map(g):v(e)}async function k(e){return"entries"in e?Object.fromEntries(await Promise.all(Object.entries(e.entries).map(async([e,t])=>[e,await k(t)]))):"items"in e?Promise.all(e.items.map(k)):v(e)}function E(e){if("entries"in e){let t={};for(let r in e.entries)t[r]=E(e.entries[r]);return t}return"items"in e?e.items.map(E):m(e)}async function w(e){return"entries"in e?Object.fromEntries(await Promise.all(Object.entries(e.entries).map(async([e,t])=>[e,await w(t)]))):"items"in e?Promise.all(e.items.map(w)):m(e)}function j(e,t){return{kind:"schema",type:"object",reference:j,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return d(this)},"~run"(e,t){let r=e.value;if(r&&"object"==typeof r)for(let n in e.typed=!0,e.value={},this.entries){let s=this.entries[n];if(n in r||("exact_optional"===s.type||"optional"===s.type||"nullish"===s.type)&&void 0!==s.default){let i=n in r?r[n]:v(s),a=s["~run"]({value:i},t);if(a.issues){let s={type:"object",origin:"value",input:r,key:n,value:i};for(let t of a.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value[n]=a.value}else if(void 0!==s.fallback)e.value[n]=m(s);else if("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type&&(f(this,"key",e,t,{input:void 0,expected:`"${n}"`,path:[{type:"object",origin:"key",input:r,key:n,value:r[n]}]}),t.abortEarly))break}else f(this,"type",e,t);return e}}}function x(e,t){return{kind:"schema",type:"optional",reference:x,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return d(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=v(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function $(e){return{kind:"schema",type:"string",reference:$,expects:"string",async:!1,message:e,get"~standard"(){return d(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:f(this,"type",e,t),e}}}function P(...e){return{...e[0],pipe:e,get"~standard"(){return d(this)},"~run"(t,r){for(let n of e)if("metadata"!==n.kind){if(t.issues&&("schema"===n.kind||"transformation"===n.kind)){t.typed=!1;break}t.issues&&(r.abortEarly||r.abortPipeEarly)||(t=n["~run"](t,r))}return t}}}function O(e,t,r){let n=e["~run"]({value:t},c(r));return{typed:n.typed,success:!n.issues,output:n.value,issues:n.issues}}let _=P($(),b(1)),I=x(_),S=j({baseUrl:_,dataset:I,id:_,path:_,projectId:I,tool:I,type:I,workspace:I});function U(e){return!S["~run"]({value:e},{abortEarly:!0}).issues}function q(e){let t="";for(let r of e){if("string"==typeof r){t&&(t+="."),t+=r;continue}if("number"==typeof r){t&&(t+=":"),t+=`${r}`;continue}if(null!==r&&Array.isArray(r)){t&&(t+=":"),t+=`${r.join(",")}}`;continue}if(r._key){t&&(t+=":"),t+=`${r._key}`;continue}}return t}let C=/^([\w-]+):(0|[1-9][0-9]*)$/,N=/^([\w-]+):([0-9]+),([0-9]+)$/,R=/^([\w-]+):([\w-]+)$/,A=P($(),b(1)),z=j({origin:A,href:A,data:x(function e(t,r,n){return{kind:"schema",type:"record",reference:e,expects:"Object",async:!1,key:t,value:r,message:n,get"~standard"(){return d(this)},"~run"(e,t){let r=e.value;if(r&&"object"==typeof r)for(let s in e.typed=!0,e.value={},r){var n;if(Object.hasOwn(r,n=s)&&"__proto__"!==n&&"prototype"!==n&&"constructor"!==n){let n=r[s],i=this.key["~run"]({value:s},t);if(i.issues){let a={type:"object",origin:"key",input:r,key:s,value:n};for(let t of i.issues)t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}let a=this.value["~run"]({value:n},t);if(a.issues){let i={type:"object",origin:"value",input:r,key:s,value:n};for(let t of a.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}i.typed&&a.typed||(e.typed=!1),i.typed&&(e.value[i.value]=a.value)}}else f(this,"type",e,t);return e}}}($(),function e(){return{kind:"schema",type:"unknown",reference:e,expects:"unknown",async:!1,get"~standard"(){return d(this)},"~run":e=>(e.typed=!0,e)}}()))});function D(e){let t=O(S,e);if(t.success)return t.output;let r=O(z,e);if(r.success)try{let e=new URL(r.output.href,typeof document>"u"?"https://example.com":location.origin);return e.searchParams.size>0?function(e,t,r){let n=e["~run"]({value:t},c(void 0));if(n.issues)throw new h(n.issues);return n.value}(S,Object.fromEntries(e.searchParams.entries())):r.output}catch(e){return console.error("Failed to parse sanity node",e),r.output}}function F(e){if("object"==typeof e&&null!==e)return D(e);try{let t=JSON.parse(e);return D(t)}catch{let t=e.split(";").reduce((e,t)=>{let[r,n]=t.split("=");if(!r||t.includes("=")&&!n)return e;switch(r){case"id":e.id=n;break;case"type":e.type=n;break;case"path":e.path=p.C.toString(function(e){let t=[];for(let r of e.split(".")){let e=C.exec(r);if(e){t.push(e[1],Number(e[2]));continue}let n=N.exec(r);if(n){t.push(n[1],[Number(n[2]),Number(n[3])]);continue}let s=R.exec(r);if(s){t.push(s[1],{_key:s[2]});continue}t.push(r)}return t}(n));break;case"base":e.baseUrl=decodeURIComponent(n);break;case"tool":e.tool=n;break;case"workspace":e.workspace=n;break;case"projectId":e.projectId=n;break;case"dataset":e.dataset=n}return e},{});if(U(t))return t;return}}}};